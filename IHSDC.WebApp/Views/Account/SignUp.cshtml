@model IHSDC.WebApp.Models.RegisterViewModel
@{
    ViewBag.Title = "SignUp";
    Layout = null;
    var message = TempData["Message"] ?? string.Empty;
    var messageStatus = TempData["messageStatus"] ?? string.Empty;
    var messagemidStatus = TempData["messagemidStatus"] ?? string.Empty;

}
<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>ACMS - SignUp</title>
    <!-- Bootstrap core CSS-->
    <script src="~/NewContent/vendor/jquery/jquery.min.js"></script>
    <script src="~/Content/CustomJS/AviatorJS.js"></script>
    <link href="~/Content/css/dashboard.css" rel="stylesheet">
    <script type="text/javascript">
        $("#chk").click(function () {
            if ($(this).prop("checked")) {
                $("#pass").attr("type", "text");
            }
            else {

                $("#pass").attr("type", "password");
            }
        });
        $(document).ready(function () {
            $("#pass").val("");
        });
        var message = '@message';
        var messageStatus = '@messageStatus';
        var messagemidStatus = '@messagemidStatus';
        if (message)
            sweetAlert(message, messagemidStatus, messageStatus);
    </script>

</head>
<header class="masthead">
    <nav class="navbar navbar-expand-sm bg-dark" style="margin-top: -5rem;">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="~/Content/images/armylogo.png" style="height: 105px; min-height: 105px; width: 105px; min-width: 105px;" />
            </a>

            @*<img src="~/Content/images/MYImage.png" style="height: 105px; width: 105px; max-width: 105px; max-height: 105px; min-width: 105px; min-height: 105px;" />*@
        </div>
        <div class="container-fluid">
            <img src="~/Content/images/acc.png" style="height: 110px;margin-left:-155px;" />
        </div>
    </nav>
    <div class="card-body" style="width:50%; box-shadow: -1px 1px 8px 1px; margin-top:10px; margin-left:500px; background-color:white;">
        <div class="card-body">
            <div class="card-body" style="padding: 0.3rem; border: 0px solid #89CFF0;">
                <div class="row">
                    <div class="col-md-4"></div>
                    <div class="col-md-4 headingtext">CREATE NEW USER</div>
                    <div class="col-md-4"></div>

                </div>
                <hr />
                @using (Html.BeginForm("Add", "Account", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
                {

                    @Html.HiddenFor(m => m.Active)
                    @Html.HiddenFor(m => m.Password)
                    @Html.HiddenFor(m => m.ConfirmPassword)
                    @Html.HiddenFor(m => m.Username)
                    @Html.AntiForgeryToken()
                    <form>
                        <div class="container">
                            <div class="form-row row-cols-3">
                                <div class="form-group required" style="width:300px;">
                                    <label style="padding-left: 15px;">
                                        @Html.LabelFor(m => m.Username)
                                    </label><font style="color:red; font-weight:bold; font-size:20px;">*</font>
                                    <div class="col-md-12">
                                        @*@Html.TextBoxFor(m => m.Username, new { @class = "form-control", @onkeyup = "ValInData(this)" })*@
                                        <label class="form-control" style="background-color: #f2f2f2 !important;">@Html.DisplayFor(m => m.Username)</label>
                                    </div>
                                </div>
                                <div class="form-group required" style="width:300px;">
                                    <label style="padding-left: 15px;">
                                        @Html.LabelFor(m => m.Number)
                                    </label><font style="color:red; font-weight:bold; font-size:20px;">*</font>
                                    <div class="col-md-12">
                                        @Html.TextBoxFor(m => m.Number, new { @class = "form-control", @maxlength = "10", @onkeyup = "ValInData(this)", @required = true })
                                    </div>
                                </div>
                                <div class="form-group required" style="width:300px;">
                                    <label style="padding-left: 15px;">
                                        @Html.LabelFor(m => m.Rank)
                                    </label><font style="color:red; font-weight:bold; font-size:20px;">*</font>
                                    <div class="col-md-12">
                                        @Html.DropDownListFor(m => m.Rank, (new IHSDC.WebApp.Models.MasterModels()).LoadRanks(), "--Select--", new { @data_show_subtext = "true", @class = "select form-control", @data_live_search = "true", @required = true })
                                    </div>
                                </div>
                            </div>


                            <div class="form-row row-cols-3">
                                <div class="form-group required" style="width:300px;">
                                    <label style="padding-left: 15px;">
                                        @Html.LabelFor(m => m.FullName)
                                    </label><font style="color:red; font-weight:bold; font-size:20px;">*</font>
                                    <div class="col-md-12">
                                        @Html.TextBoxFor(m => m.FullName, new { @class = "form-control", @onkeyup = "ValInData(this)", @required = true })
                                    </div>
                                </div>
                                <div class="form-group required" style="width:300px;">
                                    <label style="padding-left: 15px;">
                                        @Html.LabelFor(m => m.Appointment)
                                    </label><font style="color:red; font-weight:bold; font-size:20px;">*</font>
                                    <div class="col-md-12">
                                        @Html.DropDownListFor(m => m.Appointment, (new IHSDC.WebApp.Models.MasterModels()).LoadAppointment(), "--Select--", new { @data_show_subtext = "true", @class = "select form-control", @data_live_search = "true", @required = true })
                                    </div>
                                </div>
                                <div class="form-group required" style="width:300px;">
                                    <label style="padding-left: 15px;">
                                        @Html.LabelFor(m => m.Roles)
                                    </label><font style="color:red; font-weight:bold; font-size:20px;">*</font>
                                    <div class="col-md-12">
                                        @Html.DropDownList("Roles", (IEnumerable<SelectListItem>)ViewData["Roles"], new { id = "rolesDropdown", @class = "select form-control", @data_show_subtext = "true", @data_live_search = "true", style = "background-color:#f2f2f2", @required = true })
                                    </div>
                                </div>
                            </div>

                            <div class="form-row row-cols-3">
                                <div class="form-group required" style="width:300px;">
                                    <label style="padding-left: 15px;">Comd/PSOs</label><font style="color:red; font-weight:bold; font-size:20px;">*</font>
                                  

                                    <div class="col-md-12">
                                        @Html.DropDownListFor(m => m.ComdId, (new IHSDC.WebApp.Models.MasterModels()).LoadCommandName(), "--Select--", new { @data_show_subtext = "true", @class = "select form-control", @data_live_search = "true", @required = true })
                                    </div>
                                </div>
                                <div class="form-group required" style="width:300px;">
                                    <label style="padding-left: 15px;">DGs</label><font style="color:red; font-weight:bold; font-size:20px;">*</font>
                                    <a href='@Url.Action("AddCorps", "SignUp")' )>
                                        <i class="fa fa-plus-circle" aria-hidden="true"></i>
                                    </a>
                                    <div class="col-md-12">
                                        @Html.TextBoxFor(m => m.CorpId, new { @class = "form-control d-none", @required = true })
                                        <select id="spnCorp" class="form-control d-flex"></select>
                                    </div>
                                </div>
                                <div class="form-group required" style="width:300px;">
                                    <label style="padding-left: 15px;">Branch</label><font style="color:red; font-weight:bold; font-size:20px;">*</font>
                                    <a href='@Url.Action("AddUnit", "SignUp")' )>
                                        <i class="fa fa-plus-circle" aria-hidden="true"></i>
                                    </a>
                                    <div class="col-md-12">
                                        @Html.TextBoxFor(m => m.Unit_ID, new { @class = "form-control d-none", @required = true })
                                        @*@Html.DropDownList("Unit_ID", (IEnumerable<SelectListItem>)ViewData["Unit_ID"], "--Select--", new { @data_show_subtext = "true", @class = "select form-control", @data_live_search = "true", @required = true })*@
                                        <select id="spnUnit" class="form-control" required></select>
                                    </div>
                                </div>
                            </div>

                            <div class="form-row row-cols-3">
                                <div class="form-group required" style="width:300px;">
                                    <label style="padding-left: 15px;">
                                        @Html.LabelFor(m => m.ASCON)
                                    </label><font style="color:red; font-weight:bold; font-size:20px;">*</font>
                                    <div class="col-md-12">
                                        @Html.TextBoxFor(m => m.ASCON, new { @class = "form-control", @maxlength = "10", @oninput = "ValInData1(this)", @required = true })
                                    </div>
                                </div>
                                <div class="form-group required" style="width:300px;">
                                    <label style="padding-left: 15px;">
                                        @Html.LabelFor(m => m.MobNo)
                                    </label><font style="color:red; font-weight:bold; font-size:20px;">*</font>
                                    <div class="col-md-12">
                                        @Html.TextBoxFor(m => m.MobNo, new { @class = "form-control", @oninput = "ValInData1(this)", @maxlength = "10", @required = true })
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4 d-none">
                                    <label>Bde</label>
                                    @Html.TextBoxFor(m => m.BdeId, new { @class = "form-control d-none", @required = true })
                                    <select id="spnBde" class="form-control" }></select>
                                </div>
                            </div>
                            <hr />
                            <div class="row">
                                <div class="col-12 d-flex justify-content-center">
                                    <div class="form-group">
                                        <div class="col-md-offset-2 text-center">
                                            <button type="submit" class="btn btn-success">Register</button> &nbsp;
                                            @*<button type="button" class="btn btn-success">Cancel</button>*@
                                            <a class="btn btn-success" id="btnNew" style="color: white;" onclick="location.href='@Url.Action("Login", "Account")'">
                                                Cancel
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                }
            </div>
        </div>
    </div>



    <footer class="sticky-footer" style="background: linear-gradient(90deg, rgba(0,211,255,1) 0%, rgba(12,141,242,1) 66%, rgba(22,125,207,1) 99%); opacity: 3.8; position: fixed; border-bottom: 2px; width: 100%; height: 36px; ">
        <div class="container my-auto">
            <div class="copyright text-center my-auto">


                <p class="mb-0  text-light" style="font-size:22px;">Copyright © 2023. Developed by <span class="text-danger text-light">ASDC , DGIS</span> </p>
            </div>
        </div>
    </footer>
</header>

<script src="~/Scripts/jquery-3.3.1.js"></script>
<script src="~/NewContent/vendor/jquery/jquery.min.js"></script>
<script src="~/Content/css/sweetalert.min.js"></script>
<link href="~/Content/css/sweetalert.css" rel="stylesheet" />
<link href="~/NewContent/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="only screen">
<link href="~/NewContent/vendor/bootstrap/css/bootstrap.css" rel="stylesheet" media="only screen">
<link href="~/NewContent/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css" media="only screen">
<link href="~/NewContent/css/sb-admin.css" rel="stylesheet" media="only screen">
<script src="~/Content/CustomJS/SignUpfmReg.js"></script>

<script>
    function ValInData1(input) {
        var regex = /[^0-9]/g;
        input.value = input.value.replace(regex, "");
    }
</script>
<script type="text/javascript">

      var message = '@message';
    var messageStatus = '@messageStatus';
    var messagemidStatus = '@messagemidStatus ';
    if (message)
        sweetAlert(message, messagemidStatus, messageStatus);

    //$("#Username").change(function () {

    //    $("#pass").val("Admin123!");
    //});

    $(document).ready(function () {

        $('#Username').change(function () {
            $("#Password").val('Admin123!')
            $("#ConfirmPassword").val('Admin123!')
        });

    });


        $("#chk").click(function () {
            if ($(this).prop("checked")) {
                $("#pass").attr("type", "text");
            }
            else {

                $("#pass").attr("type", "password");
            }
        });
        $(document).ready(function () {
            $("#pass").val("");
        });

        var message = '@message';
        var messageStatus = '@messageStatus';
        var messagemidStatus = '@messagemidStatus';
        if (message) {
            if (message == "s") {
                SubmitToken(this, '/Account/Login', 'Your Token is not connected. Connect Token and Login again', 'SubmitGEB2IC')
            }
            if (message == "b") {
                SubmitToken(this, '/Account/Login', 'Public Key not Found. Ask Admin to install your public key.', 'SubmitGEB2IC')
            }
    }


        $('#ComdId').change(function () {
            $('#CorpId').val(1);
            $('#BdeId').val(1);

            BindCorp($("#ComdId").val());
            BindBde($("#ComdId").val(), $("#CorpId").val());
            BindUnit($("#ComdId").val(), $("#CorpId").val(), $("#BdeId").val());
        });


        $('#spnCorp').change(function () {
            $("#CorpId").val($('#spnCorp').val());
            BindBde($("#ComdId").val(), $("#CorpId").val());
            BindUnit($("#ComdId").val(), $("#CorpId").val(), $("#BdeId").val());
        });

        $('#spnBde').change(function () {
            $("#BdeId").val($('#spnBde').val());
            BindUnit($("#ComdId").val(), $("#CorpId").val(), $("#BdeId").val());
        });

        $('#spnUnit').change(function () {
            $("#Unit_ID").val($('#spnUnit').val());
        });


</script>

